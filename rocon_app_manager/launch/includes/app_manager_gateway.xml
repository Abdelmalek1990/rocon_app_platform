<!--
  Configurations for launching the gateway associated with a non-standalone
  app manager.
  
  We do default advertisements here (platform info etc), make sure it's
  firewalling and set a reasonable watcher loop period.

  It might be useful to set args for:
   - the watch_loop_period with an arg.
   - a flag to disable searching for the paired mode hub, if no pairing 
 -->
<launch>
  <arg name="gateway_name" default="gateway"/>

  <node pkg="rocon_gateway" type="gateway.py" name="gateway">
    <rosparam command="load" file="$(find rocon_gateway)/param/default.yaml" />
    <rosparam command="load" file="$(find rocon_gateway)/param/default_blacklist.yaml" />
    <rosparam command="load" file="$(find rocon_app_manager)/param/app_manager_advertisements.yaml" />
    <rosparam param="hub_uri">http://localhost:6380</rosparam> <!-- The paired hub, if available -->
    <param name="name" value="$(arg gateway_name)"/> <!-- <rosparam param="name" subst_value="true">$(arg robot_name)</rosparam> -->
    <rosparam param="watch_loop_period">5</rosparam>
    <rosparam param="firewall">true</rosparam> <!-- Nothing comes in! -->
  </node>
</launch>